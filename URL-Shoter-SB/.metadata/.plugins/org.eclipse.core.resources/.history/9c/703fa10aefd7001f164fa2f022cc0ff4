package com.url.shorter.service;

import java.time.LocalDateTime;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import com.url.shorter.dtos.UrlMappingDTO;
import com.url.shorter.models.UrlMapping;
import com.url.shorter.models.User;
import com.url.shorter.repository.UrlMappingRepository;

@Service 
public class UrlMappingService {
	@Autowired 
	UrlMappingRepository urlMappingRepository;

	public UrlMappingDTO createShortUrl(String originalUrl, User user) {
		String shortUrl=generateShortUrl(originalUrl);
		UrlMapping urlMapping= new UrlMapping();
		urlMapping.setOriginalUrl(originalUrl);
		urlMapping.setUser(user);
		urlMapping.setCreatedDate(LocalDateTime.now());
		UrlMapping savedUrlMapping=urlMappingRepository.save(urlMapping);
		return null;
	}

	private String generateShortUrl(String originalUrl) {
		// TODO Auto-generated method stub
		return "";
	}

}
